!function(i,e){var o={stuckClass:"isStuck"},t=i(document),s=!1;i.fn.TMStickUp=function(e){e=i.extend(!0,{},o,e),i(this).each(function(){var o,n,c,a,r=i(this),l=!1,u=r.clone().appendTo(r.parent()).addClass(e.stuckClass),p=u.outerHeight();i(window).resize(function(){clearTimeout(a),u.css({top:l?0:-p,visibility:l?"visible":"hidden"}),a=setTimeout(function(){o=r.offset().top,n=r.outerHeight(),p=u.outerHeight(),c=i.cookie&&"opened"===i.cookie("panel1"),u.css({top:l?0:-p})},40)}).resize(),u.css({position:"fixed",width:"100%"}),r.on("rePosition",function(i,e){l&&u.animate({marginTop:e},{easing:"linear"}),c=0!==e}),t.on("scroll",function(){var e=t.scrollTop();if(e>=o&&!l&&(u.stop().css({visibility:"visible"}).animate({top:0,marginTop:c?50:0},{}),l=!0),e<o+n&&l){if(i(".search-form-toggle").length>0){var a=i(".search-form-toggle"),r=i(".search-form");!s&&a.hasClass("active")&&(s=!0,a.removeClass("active"),r.slideUp(300,function(){setTimeout(function(){s=!1},1e3)}))}i(".sf-menu ul").css("display","none"),u.stop().animate({top:-p,marginTop:0},{duration:200,complete:function(){u.css({visibility:"hidden"})}}),l=!1}}).trigger("scroll")})}}(jQuery);